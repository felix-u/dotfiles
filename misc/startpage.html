<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Start Page</title>
  <style>
    body {
      font-family: "EB Garamond", serif;
      color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      padding: 0;
      background-color: #fff;
    }
    
    .container {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      margin-top: -10vh;
      /* position: absolute;
      top: 35%; */
    }

    .search-wrapper {
        display: flex;
        flex-direction: column;
        width: 100%
    }

    .search-container {
      display: flex;
      justify-content: flex-start;
      width: 100%;
    }

    .search-container:not(:first-child) {
        margin-top: 1rem;
    }

    .search-input {
      width: 100%;
      padding: 0.5rem;
      font-size: 1.2rem;
      font-family: "EB Garamond", serif;
      color: #000;
      background-color: #ddd;
      border: 3px solid #000;
      outline: none;
    }

    .search-input:focus {
        background-color: #fff;
    }

    button {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        padding: 0.5rem;
        font-size: 1.2rem;
        font-family: "EB Garamond", serif;
        color: #fff;
        background-color: #282828;
        border: 3px solid #000;
        outline: none;
    }

    .selectable {
        box-shadow: 4px 4px 0px 0px #000;
        cursor: pointer;
        transition: all 0.2s;
    }

    .selectable:hover, .selectable:focus {
        box-shadow: 10px 10px 0px 0px #000;
        transform: translateY(-3px) translateX(-3px);
    }

    .keymap {
        font-family: Iosevka;
        color: #888;
        font-size: 1rem; 
        transition: all 0.2s;
    }

    .keymap-relevant {
        color: #fff;
        font-weight: bold;
    }

    .spacer {
        flex-grow: 1;
    }

  </style>
    </head>
    <body>
      <div class="container">
          <h1>Search</h1>
          <div class="search-wrapper">
              <form class="search-container" action="https://www.bing.com/search" method="get">
                  <input class="selectable search-input" type="text" name="q" autofocus placeholder="Bing" autocomplete="off">
              </form>
              <form class=" search-container" action="https://www.google.com/search" method="get">
                  <input class="selectable search-input" type="text" name="q" placeholder="Google" autocomplete="off">
              </form>
              <button class="selectable search-container">
                  ChatGPT
                  <span class="spacer"></span>
                  <span class="keymap">[c]</span>
              </button>
          </div>
</div>
      <script>
        document.querySelector(".search-input").focus();
        document.addEventListener("keydown", function (event) {
          if (event.key === "c" && document.activeElement.tagName !== "INPUT" ||
              event.key === "Enter" && document.activeElement === document.querySelector("button")) 
          {
            window.location.href = "https://chat.openai.com";
          }
          if (event.key === "C" && document.activeElement.tagName !== "INPUT" && document.activeElement.tagName !== "BUTTON") {
            window.open("https://chat.openai.com", "_blank");
          }
        });

        function updateKeymap() {
          const isInputOrButtonFocused = document.activeElement.tagName === "INPUT" || document.activeElement.tagName === "BUTTON";
          const keymap = document.querySelectorAll(".keymap");

          keymap.forEach((textElement) => {
            if (isInputOrButtonFocused) {
              textElement.classList.remove("keymap-relevant");
            } else {
              textElement.classList.add("keymap-relevant");
            }
          });
        }

        const inputs = document.querySelectorAll("input");
        const buttons = document.querySelectorAll("button");

        inputs.forEach((input) => {
          input.addEventListener("focus", updateKeymap);
          input.addEventListener("blur", updateKeymap);
        });

        buttons.forEach((button) => {
          button.addEventListener("focus", updateKeymap);
          button.addEventListener("blur", updateKeymap);
        });

        // Call the function initially to set the correct state
        updateKeymap();
      </script>
    </body>
    </html>
